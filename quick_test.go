package sort

import (
	"testing"

	"github.com/ready-steady/assert"
)

func TestQuickSort(t *testing.T) {
	data := []float64{
		0.000, 0.023, 0.035, 0.091, 0.047, 0.079, 0.422, 0.068, 0.068, 0.103,
		0.153, 0.090, 0.172, 0.315, 0.404, 0.117, 0.336, 0.204, 0.259, 0.138,
		0.153, 0.272, 0.219, 0.336, 0.185, 0.364, 0.304, 0.292, 0.234, 0.259,
		0.204, 0.351, 0.425, 0.351, 0.304, 0.400, 0.415, 0.388, 0.377, 0.388,
		0.023, 0.035, 0.047, 0.103, 0.068, 0.090, 0.440, 0.091, 0.079, 0.117,
		0.172, 0.105, 0.185, 0.336, 0.415, 0.138, 0.351, 0.219, 0.272, 0.153,
		0.174, 0.292, 0.234, 0.346, 0.204, 0.377, 0.315, 0.304, 0.259, 0.274,
		0.222, 0.370, 0.439, 0.364, 0.330, 0.422, 0.425, 0.404, 0.388, 0.400,
		0.044, 0.088, 0.132, 0.176, 0.220, 0.264, 0.308, 0.352, 0.396, 0.440,
	}

	Quick(data)

	assert.Equal(data, []float64{
		0.000, 0.023, 0.023, 0.035, 0.035, 0.044, 0.047, 0.047, 0.068, 0.068,
		0.068, 0.079, 0.079, 0.088, 0.090, 0.090, 0.091, 0.091, 0.103, 0.103,
		0.105, 0.117, 0.117, 0.132, 0.138, 0.138, 0.153, 0.153, 0.153, 0.172,
		0.172, 0.174, 0.176, 0.185, 0.185, 0.204, 0.204, 0.204, 0.219, 0.219,
		0.220, 0.222, 0.234, 0.234, 0.259, 0.259, 0.259, 0.264, 0.272, 0.272,
		0.274, 0.292, 0.292, 0.304, 0.304, 0.304, 0.308, 0.315, 0.315, 0.330,
		0.336, 0.336, 0.336, 0.346, 0.351, 0.351, 0.351, 0.352, 0.364, 0.364,
		0.370, 0.377, 0.377, 0.388, 0.388, 0.388, 0.396, 0.400, 0.400, 0.404,
		0.404, 0.415, 0.415, 0.422, 0.422, 0.425, 0.425, 0.439, 0.440, 0.440,
	}, t)
}

func TestQuickSortOrder(t *testing.T) {
	order1, order2 := Quick([]float64{3, 1, 6, 9, 4, 2})

	assert.Equal(order1, []uint{1, 5, 0, 4, 2, 3}, t)
	assert.Equal(order2, []uint{2, 0, 4, 5, 3, 1}, t)
}
